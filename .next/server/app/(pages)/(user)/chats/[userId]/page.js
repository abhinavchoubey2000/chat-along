(()=>{var e={};e.id=116,e.ids=[116],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},35344:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var i=r(70260),s=r(28203),o=r(25155),a=r.n(o),n=r(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["(pages)",{children:["(user)",{children:["chats",{children:["[userId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,26299)),"D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\(pages)\\(user)\\chats\\[userId]\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,50292)),"D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\(pages)\\(user)\\chats\\[userId]\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,73189)),"D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\(pages)\\(user)\\chats\\layout.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,64716)),"D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,21154)),"D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\(pages)\\(user)\\chats\\[userId]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(pages)/(user)/chats/[userId]/page",pathname:"/chats/[userId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},36115:(e,t,r)=>{Promise.resolve().then(r.bind(r,26299))},73067:(e,t,r)=>{Promise.resolve().then(r.bind(r,3904))},96487:()=>{},78335:()=>{},10615:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var i=r(9189),s=r(45512);let o=(0,i.A)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},572:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var i=r(58009),s=r(82281),o=r(29107),a=r(35884),n=r(55249),l=r(31137),d=r(88613);function c(e){return(0,d.Ay)("MuiDialogActions",e)}(0,l.A)("MuiDialogActions",["root","spacing"]);var u=r(45512);let p=e=>{let{classes:t,disableSpacing:r}=e;return(0,o.A)({root:["root",!r&&"spacing"]},c,t)},m=(0,a.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),g=i.forwardRef(function(e,t){let r=(0,n.b)({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...a}=r,l={...r,disableSpacing:o},d=p(l);return(0,u.jsx)(m,{className:(0,s.A)(d.root,i),ownerState:l,ref:t,...a})})},98343:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var i=r(58009),s=r(82281),o=r(29107),a=r(10226),n=r(35884),l=r(55249),d=r(74167),c=r(31137),u=r(88613);function p(e){return(0,u.Ay)("MuiDialogContentText",e)}(0,c.A)("MuiDialogContentText",["root"]);var m=r(45512);let g=e=>{let{classes:t}=e,r=(0,o.A)({root:["root"]},p,t);return{...t,...r}},f=(0,n.Ay)(d.A,{shouldForwardProp:e=>(0,a.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),x=i.forwardRef(function(e,t){let r=(0,l.b)({props:e,name:"MuiDialogContentText"}),{children:i,className:o,...a}=r,n=g(a);return(0,m.jsx)(f,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:(0,s.A)(n.root,o),...r,classes:n})})},66951:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var i=r(58009),s=r(82281),o=r(29107),a=r(74167),n=r(35884),l=r(55249),d=r(40499),c=r(30902),u=r(45512);let p=e=>{let{classes:t}=e;return(0,o.A)({root:["root"]},d.t,t)},m=(0,n.Ay)(a.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),g=i.forwardRef(function(e,t){let r=(0,l.b)({props:e,name:"MuiDialogTitle"}),{className:o,id:a,...n}=r,d=p(r),{titleId:g=a}=i.useContext(c.A);return(0,u.jsx)(m,{component:"h2",className:(0,s.A)(d.root,o),ownerState:r,ref:t,variant:"h6",id:a??g,...n})})},68939:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,K:()=>o});var i=r(31137),s=r(88613);function o(e){return(0,s.Ay)("MuiDivider",e)}let a=(0,i.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},3433:(e,t,r)=>{"use strict";r.d(t,{A:()=>C});var i=r(58009),s=r(82281),o=r(29107),a=r(58242),n=r(10226),l=r(35884),d=r(94880),c=r(55249),u=r(69402),p=r(99362),m=r(4490),g=r(64424),f=r(68939),x=r(31137);let h=(0,x.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),v=(0,x.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var y=r(88613);function b(e){return(0,y.Ay)("MuiMenuItem",e)}let A=(0,x.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=r(45512);let w=e=>{let{disabled:t,dense:r,divider:i,disableGutters:s,selected:a,classes:n}=e,l=(0,o.A)({root:["root",r&&"dense",t&&"disabled",!s&&"gutters",i&&"divider",a&&"selected"]},b,n);return{...n,...l}},S=(0,l.Ay)(p.A,{shouldForwardProp:e=>(0,n.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((0,d.A)(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,a.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${A.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,a.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${A.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,a.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,a.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${f.A.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${f.A.inset}`]:{marginLeft:52},[`& .${v.root}`]:{marginTop:0,marginBottom:0},[`& .${v.inset}`]:{paddingLeft:36},[`& .${h.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${h.root} svg`]:{fontSize:"1.25rem"}}}]}))),C=i.forwardRef(function(e,t){let r;let o=(0,c.b)({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:n="li",dense:l=!1,divider:d=!1,disableGutters:p=!1,focusVisibleClassName:f,role:x="menuitem",tabIndex:h,className:v,...y}=o,b=i.useContext(u.A),A=i.useMemo(()=>({dense:l||b.dense||!1,disableGutters:p}),[b.dense,l,p]),C=i.useRef(null);(0,m.A)(()=>{a&&C.current&&C.current.focus()},[a]);let D={...o,dense:A.dense,divider:d,disableGutters:p},_=w(o),M=(0,g.A)(C,t);return o.disabled||(r=void 0!==h?h:-1),(0,j.jsx)(u.A.Provider,{value:A,children:(0,j.jsx)(S,{ref:M,role:x,tabIndex:r,component:n,focusVisibleClassName:(0,s.A)(_.focusVisible,f),className:(0,s.A)(_.root,v),...y,ownerState:D,classes:_})})})},3904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var i=r(45512),s=r(58009),o=r(79334),a=r(92273),n=r(62226),l=r(51323),d=r(27319),c=r(92627),u=r(38953),p=r(81452),m=r(74167),g=r(98566),f=r(3433),x=r(23170),h=r(66951),v=r(94305),y=r(98343),b=r(572),A=r(70510),j=r(72263),w=r(58797),S=r(4702),C=r(26008),D=r(10615),_=r(9189);let M=(0,_.A)((0,i.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined"),I=(0,_.A)((0,i.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");var P=r(16637);function k({message:e,time:t,image:r}){return(0,i.jsxs)(c.default,{alignSelf:"flex-end",alignItems:"end",direction:"row",gap:1,children:[(0,i.jsxs)(l.A,{bgcolor:"#046af2",px:1,py:1,borderRadius:2,color:"white",display:"flex",flexDirection:"column",flexWrap:"wrap",children:[(0,i.jsx)(m.A,{noWrap:!1,sx:{whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word",fontSize:["0.6rem","1rem"]},children:e}),(0,i.jsx)(m.A,{alignSelf:"flex-end",sx:{fontSize:["0.6rem","0.7rem"],opacity:.7},children:t})]}),(0,i.jsx)(p.A,{src:r,sx:{height:["1rem","1.5rem"],width:["1rem","1.5rem"]}})]})}function T({message:e,time:t,image:r}){return(0,i.jsxs)(c.default,{alignSelf:"flex-start",alignItems:"end",direction:"row-reverse",gap:1,children:[(0,i.jsxs)(l.A,{bgcolor:"#06D001",px:1,py:1,borderRadius:2,color:"white",display:"flex",flexDirection:"column",children:[(0,i.jsx)(m.A,{noWrap:!1,sx:{whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word",fontSize:["0.6rem","1rem"]},children:e}),(0,i.jsx)(m.A,{alignSelf:"flex-end",sx:{fontSize:["0.6rem","0.7rem"],opacity:.7},children:t})]}),(0,i.jsx)(p.A,{src:r,sx:{height:["1rem","1.5rem"],width:["1rem","1.5rem"]}})]})}var O=r(93493),$=r(97536);let q=(0,n.Ay)("https://chat-along-external-server.onrender.com/");function R(){let{allUsersData:e,userData:t}=(0,a.d4)(e=>e.User),r=(0,a.wA)(),n=(0,o.useParams)(),_=(0,o.useRouter)(),[R,W]=(0,s.useState)(""),[z,E]=(0,s.useState)(null),[N,X]=(0,s.useState)(!1),[G,L]=(0,s.useState)(!1),B=(0,s.useRef)(null),[J]=(0,$.lJ)(),[V]=(0,$.qB)(),F=()=>{E(null)},H=()=>{X(!0)},U=()=>{X(!1)},K=e.find(e=>e._id===n.userId);q.off().on("receiveTypingSignal",e=>{e.receiverId===t?._id&&(L(!0),setTimeout(()=>{L(!1)},2e3))});let Y=()=>{let e={senderId:t._id||"",receiverId:K?._id||"",isTyping:!0};q.off().emit("sendTypingSignal",e)},Q=async()=>{let e={senderId:t._id||"",receiverId:K?._id||"",message:R,image:t.image||{image_url:"",public_id:""},time:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};q.off().emit("sendMessage",e),r((0,O.cE)({receiverId:K?._id||"",image:t.image||{image_url:"",public_id:""},message:R,time:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})),W(""),await J({receiverId:e.receiverId,message:e.message,image:e.image,time:e.time})};return(0,i.jsxs)(l.A,{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",py:1,children:[(0,i.jsx)(d.A,{elevation:0,children:(0,i.jsxs)(c.default,{paddingY:1,paddingX:1,direction:"row",alignItems:"center",justifyContent:"space-between",gap:2,width:"100%",children:[(0,i.jsxs)(c.default,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(C.default,{href:"/chats",children:(0,i.jsx)(u.A,{"area-label":"Open Notifications",size:"large",children:(0,i.jsx)(D.A,{sx:{fontSize:"1.5rem"}})})}),(0,i.jsx)(c.default,{sx:{cursor:"pointer"},direction:"row",gap:2,onClick:()=>{_.push(`/${K?.username}`)},children:(0,i.jsxs)(c.default,{direction:"row",gap:[1,2],children:[(0,i.jsx)(p.A,{sx:{height:["2rem","3rem"],width:["2rem","3rem"]},src:K?.image?.image_url}),(0,i.jsxs)(c.default,{children:[(0,i.jsx)(m.A,{sx:{fontSize:["0.8rem","1rem"]},children:K?.name}),(0,i.jsx)(m.A,{sx:{opacity:.7,fontSize:["0.8rem","1rem"]},children:K?.username})]}),G?(0,i.jsx)(m.A,{sx:{fontWeight:"bold"},variant:"caption",children:"Typing..."}):null]})})]}),(0,i.jsx)(u.A,{"area-label":"Open Notifications",size:"large",onClick:e=>{E(e.currentTarget)},children:(0,i.jsx)(M,{sx:{fontSize:"1.5rem"}})}),(0,i.jsx)(g.A,{id:"basic-menu",anchorEl:z,open:!!z,onClose:F,MenuListProps:{"aria-labelledby":"basic-button"},children:(0,i.jsx)(f.A,{onClick:()=>{F(),H()},sx:{"&:hover":{color:"error"}},children:"Clear Messages"})}),(0,i.jsxs)(x.A,{open:N,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(h.A,{id:"alert-dialog-title",children:"Delete post"}),(0,i.jsx)(v.A,{children:(0,i.jsx)(y.A,{id:"alert-dialog-description",children:"Are you sure you want to delete these messages?"})}),(0,i.jsxs)(b.A,{children:[(0,i.jsx)(A.default,{onClick:U,children:"Cancel"}),(0,i.jsx)(A.default,{onClick:()=>{r((0,O.mF)(K?._id||"")),V(K?._id||""),U()},color:"error",autoFocus:!0,children:"Yes"})]})]})]})}),(0,i.jsx)(l.A,{paddingX:0,marginBottom:1,height:"100%",width:"100%",sx:{overflowY:"auto"},display:"flex",flexDirection:"column-reverse",gap:1,children:t.chats?.[`${K?._id}`||""]?.slice().reverse().map((e,t)=>"sender"===e.name?i.jsx(k,{message:e.message,time:e.time,image:e.image.image_url},t):i.jsx(T,{message:e.message,time:e.time,image:e.image.image_url},t))}),(0,i.jsx)(j.A,{variant:"outlined",fullWidth:!0,color:"primary",children:(0,i.jsx)(w.A,{id:"outlined-adornment-message",type:"text",placeholder:"Message",sx:{borderRadius:"30px",fontSize:"0.8rem"},value:R,onChange:e=>{W(e.target.value)},onKeyUp:e=>{"Enter"===e.key?Q():Y()},endAdornment:(0,i.jsx)(S.A,{position:"end",children:""===R?(0,i.jsxs)(u.A,{"aria-label":"image",edge:"end",onClick:()=>{B.current?.click()},children:[(0,i.jsx)(I,{}),(0,i.jsx)("input",{style:{display:"none"},type:"file",ref:B})]}):(0,i.jsx)(u.A,{"aria-label":"message",color:"primary",edge:"end",onClick:()=>{Q()},children:(0,i.jsx)(P.A,{})})})})})]})}},37301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return l}});let i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var n=o?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(i,a,n):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(76301));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}let o={current:null},a="function"==typeof i.cache?i.cache:e=>e,n=console.warn;function l(e){return function(...t){n(e(...t))}}a(e=>{try{n(o.current)}finally{o.current=null}})},50292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(62740);function s({children:e}){return(0,i.jsx)(i.Fragment,{children:e})}},26299:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Play Ground\\\\Web Dev\\\\NEXT JS\\\\projects\\\\chat-along\\\\src\\\\app\\\\(pages)\\\\(user)\\\\chats\\\\[userId]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Play Ground\\Web Dev\\NEXT JS\\projects\\chat-along\\src\\app\\(pages)\\(user)\\chats\\[userId]\\page.tsx","default")},73189:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(62740);function s({children:e}){return(0,i.jsx)(i.Fragment,{children:e})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[1989,8423,5582,3549,5264,9330,6058],()=>r(35344));module.exports=i})();