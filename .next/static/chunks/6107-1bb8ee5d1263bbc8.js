"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6107],{18244:(e,a,t)=>{t.d(a,{DQ:()=>l.DQ,IM:()=>l.IM,Iq:()=>l.Iq,Ll:()=>l.Ll,R3:()=>l.R3,VY:()=>l.VY,_L:()=>l._L,gx:()=>l.gx,lJ:()=>l.lJ,og:()=>l.og,oq:()=>l.oq,qB:()=>l.qB,rU:()=>l.rU});var l=t(34120)},34120:(e,a,t)=>{t.d(a,{DQ:()=>r,IM:()=>u,Iq:()=>A,Ll:()=>o,R3:()=>h,VY:()=>x,_L:()=>n,dG:()=>i,gx:()=>v,lJ:()=>f,og:()=>p,oq:()=>d,qB:()=>y,rU:()=>c});var l=t(39295),s=t(30565);let i=(0,l.xP)({reducerPath:"usersApi",baseQuery:(0,s.cw)({baseUrl:"http://localhost:3000"}),endpoints:e=>({login:e.mutation({query:e=>({url:"api/login",method:"POST",body:{username:e.username,password:e.password}})}),checkEmailInDB:e.mutation({query:e=>({url:"api/check-email",method:"POST",body:{email:e}})}),checkUsernameInDB:e.mutation({query:e=>({url:"api/check-username",method:"POST",body:{firstName:e.firstName,phone:e.phone,username:e.username}})}),signup:e.mutation({query:e=>({url:"/api/signup",method:"POST",body:{email:e.email,password:e.password,name:e.name,image:e.image,username:e.username,phone:e.phone}})}),logout:e.mutation({query:()=>({url:"api/logout",method:"DELETE"})}),fetchUserData:e.query({query:()=>"api/get-user-profile"}),fetchAllUsersData:e.query({query:()=>"api/get-all-users"}),followUnfollowUser:e.mutation({query:e=>({url:"api/follow-unfollow-user",method:"PUT",body:{userId:e}})}),addStatus:e.mutation({query:e=>({url:"api/add-status",method:"POST",body:{statusContent:e.statusContent,colorCode:e.colorCode,colorName:e.colorName}})}),editProfile:e.mutation({query:e=>({url:"api/edit-user-profile",method:"PUT",body:{image:e.image,name:e.name,email:e.email,phone:e.phone}})}),deleteStatus:e.mutation({query:e=>({url:"api/delete-status",method:"DELETE",body:{statusId:e}})}),saveMessage:e.mutation({query:e=>({url:"api/save-message",method:"POST",body:{receiverId:e.receiverId,time:e.time,image:e.image,message:e.message}})}),clearMessages:e.mutation({query:e=>({url:"api/clear-messages",method:"POST",body:{receiverId:e}})}),saveNotification:e.mutation({query:e=>({url:"api/save-notification",method:"POST",body:{receiverId:e.receiverId,link:e.link,image:e.image,senderName:e.senderName,action:e.action}})}),clearNotifications:e.mutation({query:()=>({url:"api/clear-notifications",method:"PUT"})})})}),{useFetchUserDataQuery:o,useFetchAllUsersDataQuery:r,useLoginMutation:n,useCheckEmailInDBMutation:d,useCheckUsernameInDBMutation:u,useSignupMutation:c,useLogoutMutation:m,useFollowUnfollowUserMutation:h,useAddStatusMutation:p,useEditProfileMutation:g,useDeleteStatusMutation:A,useSaveMessageMutation:f,useClearMessagesMutation:y,useSaveNotificationMutation:x,useClearNotificationsMutation:v}=i},19347:(e,a,t)=>{t.d(a,{$m:()=>n,Aj:()=>f,BJ:()=>u,Jx:()=>o,N1:()=>m,Sl:()=>h,Xn:()=>i,aP:()=>p,cE:()=>d,mF:()=>c,oN:()=>l,rM:()=>r,yQ:()=>g,zY:()=>s});let l=(0,t(72212).Z0)({name:"Users",initialState:{userData:{},allUsersData:[],loading:!0,isAuthenticated:!1,isDialogOpened:!1},reducers:{storeUserDataInState:(e,a)=>{e.userData=a.payload},storeAllUsersDataInState:(e,a)=>{e.allUsersData=a.payload},followUnfollowUserInState:(e,a)=>{var t,l,s,i,o,r,n;let d=null===(t=e.userData.following)||void 0===t?void 0:t.find(e=>e._id===a.payload._id),u=e.allUsersData.find(e=>e._id===a.payload._id);if(d){let t=null===(l=e.userData.following)||void 0===l?void 0:l.findIndex(e=>e._id===a.payload._id);null===(s=e.userData.following)||void 0===s||s.splice(Number(t),1);let r=null==u?void 0:null===(i=u.followers)||void 0===i?void 0:i.find(a=>a._id===e.userData._id);null==u||null===(o=u.followers)||void 0===o||o.splice(Number(r),1)}else null===(r=e.userData.following)||void 0===r||r.push({_id:a.payload._id,name:a.payload.name,image:a.payload.image,username:a.payload.username}),null==u||null===(n=u.followers)||void 0===n||n.push({_id:e.userData._id||"",name:e.userData.name||"",image:e.userData.image||{image_url:"",public_id:""},username:e.userData.username||""})},handleAuthentication:(e,a)=>{e.isAuthenticated=a.payload},handleDialog:(e,a)=>{e.isDialogOpened=a.payload},changeLoadingState:(e,a)=>{e.loading=a.payload},sendMessageInState:(e,a)=>{var t,l;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload.receiverId])||(e.userData.chats[a.payload.receiverId]=[]),null===(l=e.userData.chats)||void 0===l||l[a.payload.receiverId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"sender",seen:!1})},receiveMessageInState:(e,a)=>{var t,l;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload.senderId])||(e.userData.chats[a.payload.senderId]=[]),null===(l=e.userData.chats)||void 0===l||l[a.payload.senderId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"receiver",seen:!1})},clearMessagesInState:(e,a)=>{var t;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload])||(e.userData.chats[a.payload]=[]),e.userData.chats[a.payload]=[]},receiveNotificationInState:(e,a)=>{e.userData.notifications||(e.userData.notifications=[]),e.userData.notifications.push({name:a.payload.name,image:a.payload.image,action:a.payload.action,link:a.payload.link})},clearNotificationsInState:e=>{e.userData.notifications=[]},seenMessageInState:(e,a)=>{var t;let l=a.payload;(null===(t=e.userData.chats)||void 0===t?void 0:t[l])&&(e.userData.chats[l][e.userData.chats[l].length-1].seen=!0)},addStatusInState:(e,a)=>{if(e.userData.status){var t,l;null==e||null===(l=e.userData)||void 0===l||l.status.push({statusContent:a.payload.statusContent,colorCode:a.payload.colorCode,colorName:a.payload.colorName,_id:String((null===(t=e.userData.status)||void 0===t?void 0:t.length)+1)})}},deleteStatusInState:(e,a)=>{if(e.userData.status){let t=e.userData.status.findIndex(e=>e._id===a.payload);e.userData.status.splice(Number(t),1)}}}}),{storeUserDataInState:s,storeAllUsersDataInState:i,followUnfollowUserInState:o,handleAuthentication:r,handleDialog:n,sendMessageInState:d,receiveMessageInState:u,clearMessagesInState:c,receiveNotificationInState:m,clearNotificationsInState:h,addStatusInState:p,deleteStatusInState:g,seenMessageInState:A,changeLoadingState:f}=l.actions},63281:(e,a,t)=>{t.r(a),t.d(a,{Footer:()=>y});var l=t(95155);t(12115);var s=t(10979),i=t(894),o=t(61651),r=t(30562),n=t(16331),d=t(15585);function u(e){let{children:a,title:t,placement:s}=e;return(0,l.jsx)(n.A,{placement:s,title:t,arrow:!0,slots:{transition:d.A},children:a})}var c=t(83391),m=t(67396),h=t(2138),p=t(78205),g=t(71062),A=t(42441),f=t(19347);function y(){var e,a;let{userData:t,isAuthenticated:n}=(0,c.d4)(e=>e.User),d=(0,c.wA)(),y={fontSize:["1.5rem","2rem"],transition:"all 0.5s","&:hover":{color:"#046af2"}};return(0,l.jsxs)(s.default,{zIndex:100,position:"fixed",direction:"row",bottom:0,left:"50%",spacing:[4,10],alignItems:"center",justifyContent:"space-between",bgcolor:"white",sx:{width:["100%","auto"],maxWidth:"100%",transform:"translateX(-50%)",padding:"10px"},children:[(0,l.jsx)(u,{title:"Home",placement:"top",arrow:!0,children:(0,l.jsx)(m.default,{href:"/",children:(0,l.jsx)(i.A,{children:(0,l.jsx)(h.A,{sx:y})})})}),(0,l.jsx)(u,{title:"Search",placement:"top",arrow:!0,children:(0,l.jsx)(m.default,{href:"/search-users",children:(0,l.jsx)(i.A,{children:(0,l.jsx)(p.A,{sx:y})})})}),(0,l.jsx)(u,{title:"Create Post",placement:"top",arrow:!0,children:n?(0,l.jsx)(m.default,{href:"/create-post",children:(0,l.jsx)(i.A,{children:(0,l.jsx)(g.A,{sx:y})})}):(0,l.jsx)(i.A,{onClick:()=>{d((0,f.$m)(!0))},children:(0,l.jsx)(g.A,{sx:y})})}),(0,l.jsx)(u,{title:"Chat",placement:"top",arrow:!0,children:n?(0,l.jsx)(m.default,{href:"/chats",children:(0,l.jsx)(i.A,{children:(0,l.jsx)(A.A,{sx:y})})}):(0,l.jsx)(i.A,{onClick:()=>{d((0,f.$m)(!0))},children:(0,l.jsx)(o.A,{variant:"dot",invisible:!0,color:"secondary",children:(0,l.jsx)(A.A,{sx:y})})})}),(0,l.jsx)(u,{title:"Profile",placement:"top",arrow:!0,children:n?(0,l.jsx)(m.default,{href:"/profile",children:(0,l.jsx)(r.A,{src:(null==t?void 0:null===(e=t.image)||void 0===e?void 0:e.image_url)||"",sx:{cursor:"pointer",height:[28,38],width:[28,38]}})}):(0,l.jsx)(r.A,{onClick:()=>{d((0,f.$m)(!0))},src:(null==t?void 0:null===(a=t.image)||void 0===a?void 0:a.image_url)||"",sx:{cursor:"pointer",height:[28,38],width:[28,38]}})})]})}},95723:(e,a,t)=>{t.r(a),t.d(a,{OverlayLogin:()=>y});var l=t(95155),s=t(78416),i=t(27753),o=t(68998),r=t(10979),n=t(9561),d=t(11881),u=t(22282),c=t(96854),m=t(30960),h=t(83391),p=t(19347),g=t(18244),A=t(12115),f=t(5565);function y(){let[e,a]=(0,A.useState)(""),[t,y]=(0,A.useState)(""),x=(0,h.wA)(),[v,{isLoading:D}]=(0,g._L)(),{isDialogOpened:w}=(0,h.d4)(e=>e.User),j=async()=>{let a=await v({username:e,password:t});x((0,p.zY)(a.data)),window.location.href="/"};return(0,l.jsx)(s.A,{open:w,onClose:()=>{x((0,p.$m)(!1))},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,l.jsx)(i.A,{children:(0,l.jsxs)(o.A,{children:[(0,l.jsxs)(r.default,{py:1,children:[(0,l.jsx)(f.default,{src:m.default,alt:"Logo",height:40,width:60}),(0,l.jsx)(n.A,{variant:"h5",fontWeight:"bold",children:"LOG IN"})]}),(0,l.jsxs)(r.default,{py:5,children:[(0,l.jsx)(n.A,{textAlign:"center",sx:{opacity:.7},letterSpacing:1.5,children:"Opps!!! You need to be logged in to perform this action."}),(0,l.jsx)(d.A,{label:"Username",name:"username",value:e,onChange:e=>{a(e.target.value)},fullWidth:!0,margin:"normal"}),(0,l.jsx)(d.A,{label:"Password",name:"password",type:"password",value:t,onChange:e=>{y(e.target.value)},fullWidth:!0,margin:"normal"}),(0,l.jsx)(u.default,{sx:{my:2},variant:"contained",color:"primary",onClick:j,fullWidth:!0,children:D?(0,l.jsx)(c.default,{sx:{color:"white"},size:18}):"LOGIN"})]})]})})})}},30960:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});let l={src:"/_next/static/media/logo.42f57a94.png",height:247,width:377,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAMFBMVEV08/9dqPder/Fhwrtgs+ZXn/Js/Elq/kZisPBn8Fx71elZ8Td15aR2/0lXnvxgw7O0au62AAAAEHRSTlMCYX15V0lgWzRFaSWEeXdfVWFWqwAAAAlwSFlzAAALEwAACxMBAJqcGAAAACpJREFUeJwlwYcNACAMBLHjk9DL/tsigQ3Q56BRPc7KuSCXzMxJzxZfxAURkgCioX2CTgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}}}]);