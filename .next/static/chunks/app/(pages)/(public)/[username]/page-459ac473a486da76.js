(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8012],{13690:(e,i,n)=>{Promise.resolve().then(n.bind(n,74754))},74754:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>j});var l=n(95155);n(12115);var r=n(76046),o=n(68998),d=n(10979),t=n(30562),s=n(9561),a=n(22282),c=n(96854),u=n(67396);function m(e){let{postImage:i,postId:n}=e;return(0,l.jsx)(u.default,{href:"/post/".concat(n),children:(0,l.jsx)(t.A,{src:i,sx:{borderRadius:2,width:["6rem","10rem"],height:["8rem","12rem"],objectFit:"contain"}})})}var f=n(83391),h=n(19347),x=n(18244),v=n(12926);let g=(0,n(71319).Ay)("https://chat-along-external-server.onrender.com/");function j(){var e,i,n,j,p;let w=(0,r.useParams)(),_=(0,f.wA)(),[y,{isLoading:A}]=(0,x.R3)(),[b]=(0,x.VY)(),{allUsersData:I,userData:k,isAuthenticated:z}=(0,f.d4)(e=>e.User),{postsData:S}=(0,f.d4)(e=>e.Post);if(!(null==w?void 0:w.username))return(0,l.jsx)("div",{children:"User not found"});let W=decodeURIComponent(w.username),C=I.find(e=>e.username===W),N=S.filter(e=>{var i;return(null===(i=e.creator)||void 0===i?void 0:i._id)===(null==C?void 0:C._id)}),F=async()=>{if(null==C?void 0:C._id){var e;if(await y(null==C?void 0:C._id),_((0,h.Jx)({_id:C._id,name:C.name||"",username:C.username||"",image:C.image||{image_url:"",public_id:""}})),!(null===(e=k.following)||void 0===e?void 0:e.find(e=>e._id===(null==C?void 0:C._id)))){let e={senderId:k._id,senderName:k.name,senderImage:k.image,receiverId:C._id,action:"follow",link:"/".concat(k.username)};g.off().emit("sendNotification",e),await b({senderName:k.name||"",image:k.image||{image_url:"",public_id:""},action:"follow",link:"/".concat(k.username),receiverId:C._id})}}};return(0,l.jsxs)(o.A,{display:"flex",flexDirection:"column",width:"100%",gap:3,px:[1,0],children:[(0,l.jsx)(v.kb,{}),(0,l.jsxs)(d.default,{direction:"row",gap:2,alignItems:"center",children:[(0,l.jsx)(t.A,{src:null==C?void 0:null===(e=C.image)||void 0===e?void 0:e.image_url,sx:{height:["5rem","7rem"],width:["5rem","7rem"]}}),(0,l.jsxs)(d.default,{direction:"column",gap:[0,1],children:[(0,l.jsx)(s.A,{sx:{fontSize:["1.5rem","2rem"]},children:null==C?void 0:C.name}),(0,l.jsxs)(d.default,{direction:"row",gap:2,children:[(0,l.jsxs)(d.default,{direction:"column",alignItems:"center",children:[(0,l.jsx)(s.A,{sx:{opacity:.6,fontSize:["0.8rem","1rem"]},fontWeight:"bold",children:"Posts"}),(0,l.jsx)(s.A,{sx:{opacity:.6,fontSize:["0.8rem","1rem"]},children:null==C?void 0:null===(i=C.posts)||void 0===i?void 0:i.length})]}),(0,l.jsxs)(d.default,{direction:"column",alignItems:"center",children:[(0,l.jsx)(s.A,{sx:{opacity:.6,fontSize:["0.8rem","1rem"]},fontWeight:"bold",children:"Followers"}),(0,l.jsx)(s.A,{sx:{opacity:.6,fontSize:["0.8rem","1rem"]},children:null==C?void 0:null===(n=C.followers)||void 0===n?void 0:n.length})]}),(0,l.jsxs)(d.default,{direction:"column",alignItems:"center",children:[(0,l.jsx)(s.A,{sx:{opacity:.6,fontSize:["0.8rem","1rem"]},fontWeight:"bold",children:"Following"}),(0,l.jsx)(s.A,{sx:{opacity:.6,fontSize:["0.8rem","1rem"]},children:null==C?void 0:null===(j=C.following)||void 0===j?void 0:j.length})]})]})]})]}),(0,l.jsxs)(d.default,{direction:"row",alignItems:"flex-end",children:[(0,l.jsx)(s.A,{fontWeight:"bold",sx:{opacity:.7,fontSize:["1rem","1.4rem"]},children:"#"}),(0,l.jsx)(s.A,{fontStyle:"italic",sx:{fontSize:["1rem","1.4rem"]},children:null==C?void 0:C.username})]}),(0,l.jsxs)(d.default,{direction:"row",gap:2,children:[z?(0,l.jsx)(a.default,{variant:"contained",fullWidth:!0,onClick:F,children:A?(0,l.jsx)(c.default,{sx:{color:"white"},size:18}):(null===(p=k.following)||void 0===p?void 0:p.find(e=>e._id===(null==C?void 0:C._id)))?"Following":"Follow"}):(0,l.jsx)(a.default,{variant:"contained",fullWidth:!0,onClick:()=>{_((0,h.$m)(!0))},children:"Follow"}),z?(0,l.jsx)(u.default,{href:"/chats/".concat(null==C?void 0:C._id),style:{width:"100%"},children:(0,l.jsx)(a.default,{variant:"contained",fullWidth:!0,color:"secondary",children:"Message"})}):(0,l.jsx)(a.default,{variant:"contained",fullWidth:!0,color:"secondary",onClick:()=>{_((0,h.$m)(!0))},children:"Message"})]}),(0,l.jsx)(o.A,{children:(0,l.jsx)(o.A,{width:"100%",display:"flex",flexWrap:"wrap",py:2,justifyContent:"center",gap:1,flexDirection:"row-reverse",children:0!==N.length?N.map((e,i)=>{var n;return(0,l.jsx)(m,{postImage:(null===(n=e.post_image)||void 0===n?void 0:n.image_url)||"",postId:e._id||""},i)}):(0,l.jsx)(s.A,{children:"No posts yet"})})})]})}},12926:(e,i,n)=>{"use strict";n.d(i,{kb:()=>l.OverlayLogin}),n(63281);var l=n(95723)}},e=>{var i=i=>e(e.s=i);e.O(0,[7150,7089,7396,2282,9295,1146,3894,280,3801,6578,1800,2628,4313,145,2976,6107,8441,1517,7358],()=>i(13690)),_N_E=e.O()}]);