(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4697],{57997:(e,a,t)=>{Promise.resolve().then(t.bind(t,80777))},76581:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var o=t(22471),r=t(95155);let l=(0,o.A)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},30562:(e,a,t)=>{"use strict";t.d(a,{A:()=>D});var o=t(12115),r=t(43463),l=t(7123),s=t(89142),i=t(98330),n=t(12567),d=t(22471),u=t(95155);let c=(0,d.A)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=t(81045),m=t(37157);function g(e){return(0,m.Ay)("MuiAvatar",e)}(0,p.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var f=t(48827);let h=e=>{let{classes:a,variant:t,colorDefault:o}=e;return(0,l.A)({root:["root",t,o&&"colorDefault"],img:["img"],fallback:["fallback"]},g,a)},y=(0,s.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:t}=e;return[a.root,a[t.variant],t.colorDefault&&a.colorDefault]}})((0,i.A)(e=>{let{theme:a}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(a.vars||a).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(a.vars||a).palette.background.default,...a.vars?{backgroundColor:a.vars.palette.Avatar.defaultBg}:{backgroundColor:a.palette.grey[400],...a.applyStyles("dark",{backgroundColor:a.palette.grey[600]})}}}]}})),v=(0,s.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,a)=>a.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),A=(0,s.Ay)(c,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,a)=>a.fallback})({width:"75%",height:"75%"}),D=o.forwardRef(function(e,a){let t=(0,n.b)({props:e,name:"MuiAvatar"}),{alt:l,children:s,className:i,component:d="div",slots:c={},slotProps:p={},imgProps:m,sizes:g,src:D,srcSet:b,variant:x="circular",...w}=t,S=null,I={...t,component:d,variant:x},k=function(e){let{crossOrigin:a,referrerPolicy:t,src:r,srcSet:l}=e,[s,i]=o.useState(!1);return o.useEffect(()=>{if(!r&&!l)return;i(!1);let e=!0,o=new Image;return o.onload=()=>{e&&i("loaded")},o.onerror=()=>{e&&i("error")},o.crossOrigin=a,o.referrerPolicy=t,o.src=r,l&&(o.srcset=l),()=>{e=!1}},[a,t,r,l]),s}({...m,..."function"==typeof p.img?p.img(I):p.img,src:D,srcSet:b}),N=D||b,j=N&&"error"!==k;I.colorDefault=!j,delete I.ownerState;let q=h(I),[R,_]=(0,f.A)("img",{className:q.img,elementType:v,externalForwardedProps:{slots:c,slotProps:{img:{...m,...p.img}}},additionalProps:{alt:l,src:D,srcSet:b,sizes:g},ownerState:I});return S=j?(0,u.jsx)(R,{..._}):s||0===s?s:N&&l?l[0]:(0,u.jsx)(A,{ownerState:I,className:q.fallback}),(0,u.jsx)(y,{as:d,className:(0,r.A)(q.root,i),ref:a,...w,ownerState:I,children:S})})},68998:(e,a,t)=>{"use strict";t.d(a,{A:()=>f});var o=t(12115),r=t(43463),l=t(73166),s=t(51157),i=t(2611),n=t(66307),d=t(95155),u=t(82795),c=t(74799),p=t(26366);let m=(0,t(81045).A)("MuiBox",["root"]),g=(0,c.A)(),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{themeId:a,defaultTheme:t,defaultClassName:u="MuiBox-root",generateClassName:c}=e,p=(0,l.Ay)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(s.A);return o.forwardRef(function(e,o){let l=(0,n.A)(t),{className:s,component:m="div",...g}=(0,i.A)(e);return(0,d.jsx)(p,{as:m,ref:o,className:(0,r.A)(s,c?c(u):u),theme:a&&l[a]||l,...g})})}({themeId:p.A,defaultTheme:g,defaultClassName:m.root,generateClassName:u.A.generate})},894:(e,a,t)=>{"use strict";t.d(a,{A:()=>D});var o=t(12115),r=t(43463),l=t(7123),s=t(17280),i=t(89142),n=t(98330),d=t(31628),u=t(12567),c=t(89679),p=t(37410),m=t(81045),g=t(37157);function f(e){return(0,g.Ay)("MuiIconButton",e)}let h=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var y=t(95155);let v=e=>{let{classes:a,disabled:t,color:o,edge:r,size:s}=e,i={root:["root",t&&"disabled","default"!==o&&"color".concat((0,p.A)(o)),r&&"edge".concat((0,p.A)(r)),"size".concat((0,p.A)(s))]};return(0,l.A)(i,f,a)},A=(0,i.Ay)(c.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:t}=e;return[a.root,"default"!==t.color&&a["color".concat((0,p.A)(t.color))],t.edge&&a["edge".concat((0,p.A)(t.edge))],a["size".concat((0,p.A)(t.size))]]}})((0,n.A)(e=>{let{theme:a}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:a.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(a.vars||a).palette.action.active,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":a.vars?"rgba(".concat(a.vars.palette.action.activeChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,s.X4)(a.palette.action.active,a.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),(0,n.A)(e=>{let{theme:a}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(a.palette).filter((0,d.A)()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(a.vars||a).palette[t].main}}}),...Object.entries(a.palette).filter((0,d.A)()).map(e=>{let[t]=e;return{props:{color:t},style:{"--IconButton-hoverBg":a.vars?"rgba(".concat((a.vars||a).palette[t].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,s.X4)((a.vars||a).palette[t].main,a.palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:a.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:a.typography.pxToRem(28)}}],["&.".concat(h.disabled)]:{backgroundColor:"transparent",color:(a.vars||a).palette.action.disabled}}})),D=o.forwardRef(function(e,a){let t=(0,u.b)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:s,color:i="default",disabled:n=!1,disableFocusRipple:d=!1,size:c="medium",...p}=t,m={...t,edge:o,color:i,disabled:n,disableFocusRipple:d,size:c},g=v(m);return(0,y.jsx)(A,{className:(0,r.A)(g.root,s),centerRipple:!0,focusRipple:!d,disabled:n,ref:a,...p,ownerState:m,children:l})})},48827:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var o=t(39063),r=t(16302),l=t(15157),s=t(7186);function i(e,a){let{className:t,elementType:i,ownerState:n,externalForwardedProps:d,internalForwardedProps:u,...c}=a,{component:p,slots:m={[e]:void 0},slotProps:g={[e]:void 0},...f}=d,h=m[e]||i,y=(0,l.A)(g[e],n),{props:{component:v,...A},internalRef:D}=(0,s.A)({className:t,...c,externalForwardedProps:"root"===e?f:void 0,externalSlotProps:y}),b=(0,o.A)(D,null==y?void 0:y.ref,a.ref),x="root"===e?v||p:v,w=(0,r.A)(h,{..."root"===e&&!p&&!m[e]&&u,..."root"!==e&&!m[e]&&u,...A,...x&&{as:x},ref:b},n);return[h,w]}},16302:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});let o=function(e,a,t){return void 0===e||"string"==typeof e?a:{...a,ownerState:{...a.ownerState,...t}}}},34419:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});let o=function(e,a=[]){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>t.match(/^on[A-Z]/)&&"function"==typeof e[t]&&!a.includes(t)).forEach(a=>{t[a]=e[a]}),t}},7186:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var o=t(43463),r=t(34419);let l=function(e){if(void 0===e)return{};let a={};return Object.keys(e).filter(a=>!(a.match(/^on[A-Z]/)&&"function"==typeof e[a])).forEach(t=>{a[t]=e[t]}),a},s=function(e){let{getSlotProps:a,additionalProps:t,externalSlotProps:s,externalForwardedProps:i,className:n}=e;if(!a){let e=(0,o.A)(t?.className,n,i?.className,s?.className),a={...t?.style,...i?.style,...s?.style},r={...t,...i,...s};return e.length>0&&(r.className=e),Object.keys(a).length>0&&(r.style=a),{props:r,internalRef:void 0}}let d=(0,r.A)({...i,...s}),u=l(s),c=l(i),p=a(d),m=(0,o.A)(p?.className,t?.className,n,i?.className,s?.className),g={...p?.style,...t?.style,...i?.style,...s?.style},f={...p,...t,...c,...u};return m.length>0&&(f.className=m),Object.keys(g).length>0&&(f.style=g),{props:f,internalRef:p.ref}}},15157:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});let o=function(e,a,t){return"function"==typeof e?e(a,t):e}},80777:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var o=t(95155),r=t(76581),l=t(10979),s=t(894),i=t(9561),n=t(68998),d=t(22282),u=t(67396);t(12115);var c=t(83391),p=t(30562);function m(e){let a,{action:t,name:r,image:s,link:n}=e;return a="like"===t?"liked your post.":"comment"===t?"commented on your post.":"followed you. Visit to their profile and follow them back to be friends.",(0,o.jsx)(u.default,{href:n,style:{textDecoration:"none",color:"black"},children:(0,o.jsxs)(l.default,{direction:"row",spacing:1,bgcolor:"#e6e6e6",py:2,px:1,children:[(0,o.jsx)(p.A,{src:s.image_url||"",sx:{width:25,height:25}}),(0,o.jsxs)(i.A,{variant:"body2",letterSpacing:1,children:[(0,o.jsx)("b",{children:r})," ",a]})]})})}var g=t(19347),f=t(18244);function h(){var e,a;let{userData:t}=(0,c.d4)(e=>e.User),p=(0,c.wA)(),[h]=(0,f.gx)(),y=async()=>{p((0,g.Sl)()),await h()};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.default,{paddingY:1,paddingX:1,direction:"row",alignItems:"center",gap:2,width:"100%",children:[(0,o.jsx)(u.default,{href:"/",children:(0,o.jsx)(s.A,{"area-label":"Open Notifications",size:"large",children:(0,o.jsx)(r.A,{sx:{fontSize:"1.5rem"}})})}),(0,o.jsx)(i.A,{children:"Notifications"})]}),(0,o.jsx)(n.A,{width:"100%",height:"80vh",overflow:"auto",mt:1,sx:{display:"flex",flexDirection:"column"},gap:1,children:(null===(e=t.notifications)||void 0===e?void 0:e.length)===0?(0,o.jsx)(i.A,{textAlign:"center",sx:{opacity:.7},children:"No notifications for now."}):null===(a=t.notifications)||void 0===a?void 0:a.map((e,a)=>(0,o.jsx)(m,{action:e.action,image:e.image,name:e.name,link:e.link},a))}),(0,o.jsx)(d.default,{onClick:y,size:"small",color:"error",children:"Clear all"})]})}},18244:(e,a,t)=>{"use strict";t.d(a,{DQ:()=>o.DQ,IM:()=>o.IM,Iq:()=>o.Iq,Ll:()=>o.Ll,R3:()=>o.R3,VY:()=>o.VY,_L:()=>o._L,gx:()=>o.gx,lJ:()=>o.lJ,og:()=>o.og,oq:()=>o.oq,qB:()=>o.qB,rU:()=>o.rU});var o=t(34120)},34120:(e,a,t)=>{"use strict";t.d(a,{DQ:()=>i,IM:()=>u,Iq:()=>h,Ll:()=>s,R3:()=>m,VY:()=>A,_L:()=>n,dG:()=>l,gx:()=>D,lJ:()=>y,og:()=>g,oq:()=>d,qB:()=>v,rU:()=>c});var o=t(39295),r=t(30565);let l=(0,o.xP)({reducerPath:"usersApi",baseQuery:(0,r.cw)({baseUrl:"http://localhost:3000"}),endpoints:e=>({login:e.mutation({query:e=>({url:"api/login",method:"POST",body:{username:e.username,password:e.password}})}),checkEmailInDB:e.mutation({query:e=>({url:"api/check-email",method:"POST",body:{email:e}})}),checkUsernameInDB:e.mutation({query:e=>({url:"api/check-username",method:"POST",body:{firstName:e.firstName,phone:e.phone,username:e.username}})}),signup:e.mutation({query:e=>({url:"/api/signup",method:"POST",body:{email:e.email,password:e.password,name:e.name,image:e.image,username:e.username,phone:e.phone}})}),logout:e.mutation({query:()=>({url:"api/logout",method:"DELETE"})}),fetchUserData:e.query({query:()=>"api/get-user-profile"}),fetchAllUsersData:e.query({query:()=>"api/get-all-users"}),followUnfollowUser:e.mutation({query:e=>({url:"api/follow-unfollow-user",method:"PUT",body:{userId:e}})}),addStatus:e.mutation({query:e=>({url:"api/add-status",method:"POST",body:{statusContent:e.statusContent,colorCode:e.colorCode,colorName:e.colorName}})}),editProfile:e.mutation({query:e=>({url:"api/edit-user-profile",method:"PUT",body:{image:e.image,name:e.name,email:e.email,phone:e.phone}})}),deleteStatus:e.mutation({query:e=>({url:"api/delete-status",method:"DELETE",body:{statusId:e}})}),saveMessage:e.mutation({query:e=>({url:"api/save-message",method:"POST",body:{receiverId:e.receiverId,time:e.time,image:e.image,message:e.message}})}),clearMessages:e.mutation({query:e=>({url:"api/clear-messages",method:"POST",body:{receiverId:e}})}),saveNotification:e.mutation({query:e=>({url:"api/save-notification",method:"POST",body:{receiverId:e.receiverId,link:e.link,image:e.image,senderName:e.senderName,action:e.action}})}),clearNotifications:e.mutation({query:()=>({url:"api/clear-notifications",method:"PUT"})})})}),{useFetchUserDataQuery:s,useFetchAllUsersDataQuery:i,useLoginMutation:n,useCheckEmailInDBMutation:d,useCheckUsernameInDBMutation:u,useSignupMutation:c,useLogoutMutation:p,useFollowUnfollowUserMutation:m,useAddStatusMutation:g,useEditProfileMutation:f,useDeleteStatusMutation:h,useSaveMessageMutation:y,useClearMessagesMutation:v,useSaveNotificationMutation:A,useClearNotificationsMutation:D}=l},19347:(e,a,t)=>{"use strict";t.d(a,{$m:()=>n,Aj:()=>y,BJ:()=>u,Jx:()=>s,N1:()=>p,Sl:()=>m,Xn:()=>l,aP:()=>g,cE:()=>d,mF:()=>c,oN:()=>o,rM:()=>i,yQ:()=>f,zY:()=>r});let o=(0,t(72212).Z0)({name:"Users",initialState:{userData:{},allUsersData:[],loading:!0,isAuthenticated:!1,isDialogOpened:!1},reducers:{storeUserDataInState:(e,a)=>{e.userData=a.payload},storeAllUsersDataInState:(e,a)=>{e.allUsersData=a.payload},followUnfollowUserInState:(e,a)=>{var t,o,r,l,s,i,n;let d=null===(t=e.userData.following)||void 0===t?void 0:t.find(e=>e._id===a.payload._id),u=e.allUsersData.find(e=>e._id===a.payload._id);if(d){let t=null===(o=e.userData.following)||void 0===o?void 0:o.findIndex(e=>e._id===a.payload._id);null===(r=e.userData.following)||void 0===r||r.splice(Number(t),1);let i=null==u?void 0:null===(l=u.followers)||void 0===l?void 0:l.find(a=>a._id===e.userData._id);null==u||null===(s=u.followers)||void 0===s||s.splice(Number(i),1)}else null===(i=e.userData.following)||void 0===i||i.push({_id:a.payload._id,name:a.payload.name,image:a.payload.image,username:a.payload.username}),null==u||null===(n=u.followers)||void 0===n||n.push({_id:e.userData._id||"",name:e.userData.name||"",image:e.userData.image||{image_url:"",public_id:""},username:e.userData.username||""})},handleAuthentication:(e,a)=>{e.isAuthenticated=a.payload},handleDialog:(e,a)=>{e.isDialogOpened=a.payload},changeLoadingState:(e,a)=>{e.loading=a.payload},sendMessageInState:(e,a)=>{var t,o;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload.receiverId])||(e.userData.chats[a.payload.receiverId]=[]),null===(o=e.userData.chats)||void 0===o||o[a.payload.receiverId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"sender",seen:!1})},receiveMessageInState:(e,a)=>{var t,o;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload.senderId])||(e.userData.chats[a.payload.senderId]=[]),null===(o=e.userData.chats)||void 0===o||o[a.payload.senderId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"receiver",seen:!1})},clearMessagesInState:(e,a)=>{var t;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload])||(e.userData.chats[a.payload]=[]),e.userData.chats[a.payload]=[]},receiveNotificationInState:(e,a)=>{e.userData.notifications||(e.userData.notifications=[]),e.userData.notifications.push({name:a.payload.name,image:a.payload.image,action:a.payload.action,link:a.payload.link})},clearNotificationsInState:e=>{e.userData.notifications=[]},seenMessageInState:(e,a)=>{var t;let o=a.payload;(null===(t=e.userData.chats)||void 0===t?void 0:t[o])&&(e.userData.chats[o][e.userData.chats[o].length-1].seen=!0)},addStatusInState:(e,a)=>{if(e.userData.status){var t,o;null==e||null===(o=e.userData)||void 0===o||o.status.push({statusContent:a.payload.statusContent,colorCode:a.payload.colorCode,colorName:a.payload.colorName,_id:String((null===(t=e.userData.status)||void 0===t?void 0:t.length)+1)})}},deleteStatusInState:(e,a)=>{if(e.userData.status){let t=e.userData.status.findIndex(e=>e._id===a.payload);e.userData.status.splice(Number(t),1)}}}}),{storeUserDataInState:r,storeAllUsersDataInState:l,followUnfollowUserInState:s,handleAuthentication:i,handleDialog:n,sendMessageInState:d,receiveMessageInState:u,clearMessagesInState:c,receiveNotificationInState:p,clearNotificationsInState:m,addStatusInState:g,deleteStatusInState:f,seenMessageInState:h,changeLoadingState:y}=o.actions}},e=>{var a=a=>e(e.s=a);e.O(0,[7150,7089,7396,2282,9295,8441,1517,7358],()=>a(57997)),_N_E=e.O()}]);