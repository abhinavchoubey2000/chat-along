(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9439],{43809:(e,a,t)=>{Promise.resolve().then(t.bind(t,89598))},45353:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return s}});let l=t(12115);function s(e,a){let t=(0,l.useRef)(()=>{}),s=(0,l.useRef)(()=>{});return(0,l.useMemo)(()=>e&&a?l=>{null===l?(t.current(),s.current()):(t.current=o(e,l),s.current=o(a,l))}:e||a,[e,a])}function o(e,a){if("function"!=typeof e)return e.current=a,()=>{e.current=null};{let t=e(a);return"function"==typeof t?t:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},63576:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RouterContext",{enumerable:!0,get:function(){return l}});let l=t(60306)._(t(12115)).default.createContext(null)},89598:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var l=t(95155),s=t(68998),o=t(10979),i=t(9561),r=t(11881),n=t(22282),u=t(96854),d=t(5565),c=t(12115),m=t(18244),p=t(83391),g=t(19347),h=t(30960);function f(){let[e,{isLoading:a}]=(0,m._L)(),t=(0,p.wA)(),[f,y]=(0,c.useState)(""),[v,A]=(0,c.useState)(""),D=async()=>{let a=await e({username:f,password:v});t((0,g.zY)(a.data)),window.location.href="/"};return(0,l.jsxs)(s.A,{px:[2,0],children:[(0,l.jsxs)(o.default,{py:1,children:[(0,l.jsx)(d.default,{src:h.default,alt:"Logo",height:40,width:60}),(0,l.jsx)(i.A,{variant:"h5",fontWeight:"bold",children:"LOG IN"})]}),(0,l.jsxs)(o.default,{py:5,children:[(0,l.jsx)(i.A,{textAlign:"center",sx:{opacity:.7},letterSpacing:[1,1.5],children:"Hi, welcome back. Login to your account with your credentials."}),(0,l.jsx)(r.A,{label:"Username",name:"username",value:f,onChange:e=>{y(e.target.value)},fullWidth:!0,margin:"normal"}),(0,l.jsx)(r.A,{label:"Password",name:"password",type:"password",value:v,onChange:e=>{A(e.target.value)},fullWidth:!0,margin:"normal"}),(0,l.jsx)(n.default,{sx:{my:2},variant:"contained",color:"primary",onClick:D,fullWidth:!0,children:a?(0,l.jsx)(u.default,{sx:{color:"white"},size:18}):"LOGIN"})]})]})}},18244:(e,a,t)=>{"use strict";t.d(a,{DQ:()=>l.DQ,IM:()=>l.IM,Iq:()=>l.Iq,Ll:()=>l.Ll,R3:()=>l.R3,VY:()=>l.VY,_L:()=>l._L,gx:()=>l.gx,lJ:()=>l.lJ,og:()=>l.og,oq:()=>l.oq,qB:()=>l.qB,rU:()=>l.rU});var l=t(34120)},34120:(e,a,t)=>{"use strict";t.d(a,{DQ:()=>r,IM:()=>d,Iq:()=>f,Ll:()=>i,R3:()=>p,VY:()=>A,_L:()=>n,dG:()=>o,gx:()=>D,lJ:()=>y,og:()=>g,oq:()=>u,qB:()=>v,rU:()=>c});var l=t(39295),s=t(30565);let o=(0,l.xP)({reducerPath:"usersApi",baseQuery:(0,s.cw)({baseUrl:"http://localhost:3000"}),endpoints:e=>({login:e.mutation({query:e=>({url:"api/login",method:"POST",body:{username:e.username,password:e.password}})}),checkEmailInDB:e.mutation({query:e=>({url:"api/check-email",method:"POST",body:{email:e}})}),checkUsernameInDB:e.mutation({query:e=>({url:"api/check-username",method:"POST",body:{firstName:e.firstName,phone:e.phone,username:e.username}})}),signup:e.mutation({query:e=>({url:"/api/signup",method:"POST",body:{email:e.email,password:e.password,name:e.name,image:e.image,username:e.username,phone:e.phone}})}),logout:e.mutation({query:()=>({url:"api/logout",method:"DELETE"})}),fetchUserData:e.query({query:()=>"api/get-user-profile"}),fetchAllUsersData:e.query({query:()=>"api/get-all-users"}),followUnfollowUser:e.mutation({query:e=>({url:"api/follow-unfollow-user",method:"PUT",body:{userId:e}})}),addStatus:e.mutation({query:e=>({url:"api/add-status",method:"POST",body:{statusContent:e.statusContent,colorCode:e.colorCode,colorName:e.colorName}})}),editProfile:e.mutation({query:e=>({url:"api/edit-user-profile",method:"PUT",body:{image:e.image,name:e.name,email:e.email,phone:e.phone}})}),deleteStatus:e.mutation({query:e=>({url:"api/delete-status",method:"DELETE",body:{statusId:e}})}),saveMessage:e.mutation({query:e=>({url:"api/save-message",method:"POST",body:{receiverId:e.receiverId,time:e.time,image:e.image,message:e.message}})}),clearMessages:e.mutation({query:e=>({url:"api/clear-messages",method:"POST",body:{receiverId:e}})}),saveNotification:e.mutation({query:e=>({url:"api/save-notification",method:"POST",body:{receiverId:e.receiverId,link:e.link,image:e.image,senderName:e.senderName,action:e.action}})}),clearNotifications:e.mutation({query:()=>({url:"api/clear-notifications",method:"PUT"})})})}),{useFetchUserDataQuery:i,useFetchAllUsersDataQuery:r,useLoginMutation:n,useCheckEmailInDBMutation:u,useCheckUsernameInDBMutation:d,useSignupMutation:c,useLogoutMutation:m,useFollowUnfollowUserMutation:p,useAddStatusMutation:g,useEditProfileMutation:h,useDeleteStatusMutation:f,useSaveMessageMutation:y,useClearMessagesMutation:v,useSaveNotificationMutation:A,useClearNotificationsMutation:D}=o},19347:(e,a,t)=>{"use strict";t.d(a,{$m:()=>n,Aj:()=>y,BJ:()=>d,Jx:()=>i,N1:()=>m,Sl:()=>p,Xn:()=>o,aP:()=>g,cE:()=>u,mF:()=>c,oN:()=>l,rM:()=>r,yQ:()=>h,zY:()=>s});let l=(0,t(72212).Z0)({name:"Users",initialState:{userData:{},allUsersData:[],loading:!0,isAuthenticated:!1,isDialogOpened:!1},reducers:{storeUserDataInState:(e,a)=>{e.userData=a.payload},storeAllUsersDataInState:(e,a)=>{e.allUsersData=a.payload},followUnfollowUserInState:(e,a)=>{var t,l,s,o,i,r,n;let u=null===(t=e.userData.following)||void 0===t?void 0:t.find(e=>e._id===a.payload._id),d=e.allUsersData.find(e=>e._id===a.payload._id);if(u){let t=null===(l=e.userData.following)||void 0===l?void 0:l.findIndex(e=>e._id===a.payload._id);null===(s=e.userData.following)||void 0===s||s.splice(Number(t),1);let r=null==d?void 0:null===(o=d.followers)||void 0===o?void 0:o.find(a=>a._id===e.userData._id);null==d||null===(i=d.followers)||void 0===i||i.splice(Number(r),1)}else null===(r=e.userData.following)||void 0===r||r.push({_id:a.payload._id,name:a.payload.name,image:a.payload.image,username:a.payload.username}),null==d||null===(n=d.followers)||void 0===n||n.push({_id:e.userData._id||"",name:e.userData.name||"",image:e.userData.image||{image_url:"",public_id:""},username:e.userData.username||""})},handleAuthentication:(e,a)=>{e.isAuthenticated=a.payload},handleDialog:(e,a)=>{e.isDialogOpened=a.payload},changeLoadingState:(e,a)=>{e.loading=a.payload},sendMessageInState:(e,a)=>{var t,l;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload.receiverId])||(e.userData.chats[a.payload.receiverId]=[]),null===(l=e.userData.chats)||void 0===l||l[a.payload.receiverId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"sender",seen:!1})},receiveMessageInState:(e,a)=>{var t,l;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload.senderId])||(e.userData.chats[a.payload.senderId]=[]),null===(l=e.userData.chats)||void 0===l||l[a.payload.senderId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"receiver",seen:!1})},clearMessagesInState:(e,a)=>{var t;e.userData.chats||(e.userData.chats={}),(null===(t=e.userData.chats)||void 0===t?void 0:t[a.payload])||(e.userData.chats[a.payload]=[]),e.userData.chats[a.payload]=[]},receiveNotificationInState:(e,a)=>{e.userData.notifications||(e.userData.notifications=[]),e.userData.notifications.push({name:a.payload.name,image:a.payload.image,action:a.payload.action,link:a.payload.link})},clearNotificationsInState:e=>{e.userData.notifications=[]},seenMessageInState:(e,a)=>{var t;let l=a.payload;(null===(t=e.userData.chats)||void 0===t?void 0:t[l])&&(e.userData.chats[l][e.userData.chats[l].length-1].seen=!0)},addStatusInState:(e,a)=>{if(e.userData.status){var t,l;null==e||null===(l=e.userData)||void 0===l||l.status.push({statusContent:a.payload.statusContent,colorCode:a.payload.colorCode,colorName:a.payload.colorName,_id:String((null===(t=e.userData.status)||void 0===t?void 0:t.length)+1)})}},deleteStatusInState:(e,a)=>{if(e.userData.status){let t=e.userData.status.findIndex(e=>e._id===a.payload);e.userData.status.splice(Number(t),1)}}}}),{storeUserDataInState:s,storeAllUsersDataInState:o,followUnfollowUserInState:i,handleAuthentication:r,handleDialog:n,sendMessageInState:u,receiveMessageInState:d,clearMessagesInState:c,receiveNotificationInState:m,clearNotificationsInState:p,addStatusInState:g,deleteStatusInState:h,seenMessageInState:f,changeLoadingState:y}=l.actions},30960:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});let l={src:"/_next/static/media/logo.42f57a94.png",height:247,width:377,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAMFBMVEV08/9dqPder/Fhwrtgs+ZXn/Js/Elq/kZisPBn8Fx71elZ8Td15aR2/0lXnvxgw7O0au62AAAAEHRSTlMCYX15V0lgWzRFaSWEeXdfVWFWqwAAAAlwSFlzAAALEwAACxMBAJqcGAAAACpJREFUeJwlwYcNACAMBLHjk9DL/tsigQ3Q56BRPc7KuSCXzMxJzxZfxAURkgCioX2CTgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}}},e=>{var a=a=>e(e.s=a);e.O(0,[7150,7089,2282,9295,1146,3894,280,3801,6578,2628,8441,1517,7358],()=>a(43809)),_N_E=e.O()}]);