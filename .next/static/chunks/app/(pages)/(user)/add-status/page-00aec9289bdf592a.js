(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5918],{64510:(e,a,o)=>{Promise.resolve().then(o.bind(o,54093))},54093:(e,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>C});var t=o(95155),l=o(76581),r=o(17456),s=o(18037),i=o(10979),n=o(78416),d=o(27753),u=o(9561),c=o(68998),m=o(894),h=o(22282),p=o(96854),g=o(67396),f=o(76046),y=o(83391),D=o(12115),v=o(19347),x=o(18244);function C(){let[e,a]=(0,D.useState)(""),o=(0,y.wA)(),[C,{isLoading:N}]=(0,x.og)(),b=(0,f.useRouter)(),[I,S]=(0,D.useState)({colorName:"",colorCode:""}),w=e=>{S({colorCode:e.colorCode,colorName:e.colorName}),_()},[q,j]=D.useState(!1),_=()=>{j(!1)},A=async()=>{let a={statusContent:e,colorCode:I.colorCode,colorName:I.colorName};await C(a),o((0,v.aP)(a)),b.push("/")},U=(0,D.useRef)(null);return(0,t.jsxs)(i.default,{spacing:2,children:[(0,t.jsx)(n.A,{open:q,onClose:_,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,t.jsxs)(d.A,{children:[(0,t.jsx)(u.A,{children:"Choose color"}),(0,t.jsx)(i.default,{gap:1,direction:"row",flexWrap:"wrap",my:2,children:[{colorName:"Red",colorCode:"#ff0000"},{colorName:"Yellow",colorCode:"#ffbf00"},{colorName:"Royal Blue",colorCode:"#1301ff"},{colorName:"Sky Blue",colorCode:"#9aa6e5"},{colorName:"Pink",colorCode:"#ff6fb7"},{colorName:"Green",colorCode:"#7dff6f"},{colorName:"Orange",colorCode:"#ff8f00"},{colorName:"Gray",colorCode:"#695f54"},{colorName:"Purple",colorCode:"#ce01ff"},{colorName:"Lime",colorCode:"#a6ff00"}].map((e,a)=>(0,t.jsxs)(c.A,{bgcolor:"#e9e5e5",onClick:()=>{w({colorCode:e.colorCode,colorName:e.colorName})},sx:{"&:hover":{bgcolor:"#bfbcbc",transition:"all 0.3s",cursor:"pointer"}},display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",py:2,borderRadius:4,width:[70,100],height:[70,100],gap:1,children:[(0,t.jsx)(i.default,{width:[10,15],display:"inline-flex",height:[10,15],borderRadius:"50%",bgcolor:e.colorCode}),(0,t.jsx)(u.A,{variant:"caption",children:e.colorName})]},a))})]})}),(0,t.jsxs)(i.default,{paddingY:1,paddingX:1,direction:"row",alignItems:"center",gap:2,width:"100%",children:[(0,t.jsx)(g.default,{href:"/",children:(0,t.jsx)(m.A,{"area-label":"Open Notifications",size:"large",children:(0,t.jsx)(l.A,{sx:{fontSize:"1.5rem"}})})}),(0,t.jsx)(u.A,{children:"Add Status"})]}),(0,t.jsx)(c.A,{width:"100%",height:"70vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:I.colorCode,children:(0,t.jsx)("textarea",{ref:U,value:e,onChange:o=>{e.length<215&&(a(o.target.value),U.current&&(U.current.style.height="auto",U.current.style.height="".concat(U.current.scrollHeight,"px")))},placeholder:"Write Your Thoughts...",rows:1,autoFocus:!0,style:{background:"transparent",width:"100%",height:"20%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",border:"none",outline:"none",resize:"none"}})}),(0,t.jsxs)(i.default,{direction:"row",spacing:2,children:[(0,t.jsx)(m.A,{onClick:()=>{j(!0)},children:(0,t.jsx)(r.A,{sx:{color:I.colorCode}})}),(0,t.jsx)(h.default,{endIcon:(0,t.jsx)(s.A,{}),variant:"contained",fullWidth:!0,onClick:A,children:N?(0,t.jsx)(p.default,{sx:{color:"white"},size:18}):"Add Status"})]})]})}},18244:(e,a,o)=>{"use strict";o.d(a,{DQ:()=>t.DQ,IM:()=>t.IM,Iq:()=>t.Iq,Ll:()=>t.Ll,R3:()=>t.R3,VY:()=>t.VY,_L:()=>t._L,gx:()=>t.gx,lJ:()=>t.lJ,og:()=>t.og,oq:()=>t.oq,qB:()=>t.qB,rU:()=>t.rU});var t=o(34120)},34120:(e,a,o)=>{"use strict";o.d(a,{DQ:()=>i,IM:()=>u,Iq:()=>f,Ll:()=>s,R3:()=>h,VY:()=>v,_L:()=>n,dG:()=>r,gx:()=>x,lJ:()=>y,og:()=>p,oq:()=>d,qB:()=>D,rU:()=>c});var t=o(39295),l=o(30565);let r=(0,t.xP)({reducerPath:"usersApi",baseQuery:(0,l.cw)({baseUrl:"http://localhost:3000"}),endpoints:e=>({login:e.mutation({query:e=>({url:"api/login",method:"POST",body:{username:e.username,password:e.password}})}),checkEmailInDB:e.mutation({query:e=>({url:"api/check-email",method:"POST",body:{email:e}})}),checkUsernameInDB:e.mutation({query:e=>({url:"api/check-username",method:"POST",body:{firstName:e.firstName,phone:e.phone,username:e.username}})}),signup:e.mutation({query:e=>({url:"/api/signup",method:"POST",body:{email:e.email,password:e.password,name:e.name,image:e.image,username:e.username,phone:e.phone}})}),logout:e.mutation({query:()=>({url:"api/logout",method:"DELETE"})}),fetchUserData:e.query({query:()=>"api/get-user-profile"}),fetchAllUsersData:e.query({query:()=>"api/get-all-users"}),followUnfollowUser:e.mutation({query:e=>({url:"api/follow-unfollow-user",method:"PUT",body:{userId:e}})}),addStatus:e.mutation({query:e=>({url:"api/add-status",method:"POST",body:{statusContent:e.statusContent,colorCode:e.colorCode,colorName:e.colorName}})}),editProfile:e.mutation({query:e=>({url:"api/edit-user-profile",method:"PUT",body:{image:e.image,name:e.name,email:e.email,phone:e.phone}})}),deleteStatus:e.mutation({query:e=>({url:"api/delete-status",method:"DELETE",body:{statusId:e}})}),saveMessage:e.mutation({query:e=>({url:"api/save-message",method:"POST",body:{receiverId:e.receiverId,time:e.time,image:e.image,message:e.message}})}),clearMessages:e.mutation({query:e=>({url:"api/clear-messages",method:"POST",body:{receiverId:e}})}),saveNotification:e.mutation({query:e=>({url:"api/save-notification",method:"POST",body:{receiverId:e.receiverId,link:e.link,image:e.image,senderName:e.senderName,action:e.action}})}),clearNotifications:e.mutation({query:()=>({url:"api/clear-notifications",method:"PUT"})})})}),{useFetchUserDataQuery:s,useFetchAllUsersDataQuery:i,useLoginMutation:n,useCheckEmailInDBMutation:d,useCheckUsernameInDBMutation:u,useSignupMutation:c,useLogoutMutation:m,useFollowUnfollowUserMutation:h,useAddStatusMutation:p,useEditProfileMutation:g,useDeleteStatusMutation:f,useSaveMessageMutation:y,useClearMessagesMutation:D,useSaveNotificationMutation:v,useClearNotificationsMutation:x}=r},19347:(e,a,o)=>{"use strict";o.d(a,{$m:()=>n,Aj:()=>y,BJ:()=>u,Jx:()=>s,N1:()=>m,Sl:()=>h,Xn:()=>r,aP:()=>p,cE:()=>d,mF:()=>c,oN:()=>t,rM:()=>i,yQ:()=>g,zY:()=>l});let t=(0,o(72212).Z0)({name:"Users",initialState:{userData:{},allUsersData:[],loading:!0,isAuthenticated:!1,isDialogOpened:!1},reducers:{storeUserDataInState:(e,a)=>{e.userData=a.payload},storeAllUsersDataInState:(e,a)=>{e.allUsersData=a.payload},followUnfollowUserInState:(e,a)=>{var o,t,l,r,s,i,n;let d=null===(o=e.userData.following)||void 0===o?void 0:o.find(e=>e._id===a.payload._id),u=e.allUsersData.find(e=>e._id===a.payload._id);if(d){let o=null===(t=e.userData.following)||void 0===t?void 0:t.findIndex(e=>e._id===a.payload._id);null===(l=e.userData.following)||void 0===l||l.splice(Number(o),1);let i=null==u?void 0:null===(r=u.followers)||void 0===r?void 0:r.find(a=>a._id===e.userData._id);null==u||null===(s=u.followers)||void 0===s||s.splice(Number(i),1)}else null===(i=e.userData.following)||void 0===i||i.push({_id:a.payload._id,name:a.payload.name,image:a.payload.image,username:a.payload.username}),null==u||null===(n=u.followers)||void 0===n||n.push({_id:e.userData._id||"",name:e.userData.name||"",image:e.userData.image||{image_url:"",public_id:""},username:e.userData.username||""})},handleAuthentication:(e,a)=>{e.isAuthenticated=a.payload},handleDialog:(e,a)=>{e.isDialogOpened=a.payload},changeLoadingState:(e,a)=>{e.loading=a.payload},sendMessageInState:(e,a)=>{var o,t;e.userData.chats||(e.userData.chats={}),(null===(o=e.userData.chats)||void 0===o?void 0:o[a.payload.receiverId])||(e.userData.chats[a.payload.receiverId]=[]),null===(t=e.userData.chats)||void 0===t||t[a.payload.receiverId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"sender",seen:!1})},receiveMessageInState:(e,a)=>{var o,t;e.userData.chats||(e.userData.chats={}),(null===(o=e.userData.chats)||void 0===o?void 0:o[a.payload.senderId])||(e.userData.chats[a.payload.senderId]=[]),null===(t=e.userData.chats)||void 0===t||t[a.payload.senderId].push({message:a.payload.message,image:a.payload.image,time:a.payload.time,name:"receiver",seen:!1})},clearMessagesInState:(e,a)=>{var o;e.userData.chats||(e.userData.chats={}),(null===(o=e.userData.chats)||void 0===o?void 0:o[a.payload])||(e.userData.chats[a.payload]=[]),e.userData.chats[a.payload]=[]},receiveNotificationInState:(e,a)=>{e.userData.notifications||(e.userData.notifications=[]),e.userData.notifications.push({name:a.payload.name,image:a.payload.image,action:a.payload.action,link:a.payload.link})},clearNotificationsInState:e=>{e.userData.notifications=[]},seenMessageInState:(e,a)=>{var o;let t=a.payload;(null===(o=e.userData.chats)||void 0===o?void 0:o[t])&&(e.userData.chats[t][e.userData.chats[t].length-1].seen=!0)},addStatusInState:(e,a)=>{if(e.userData.status){var o,t;null==e||null===(t=e.userData)||void 0===t||t.status.push({statusContent:a.payload.statusContent,colorCode:a.payload.colorCode,colorName:a.payload.colorName,_id:String((null===(o=e.userData.status)||void 0===o?void 0:o.length)+1)})}},deleteStatusInState:(e,a)=>{if(e.userData.status){let o=e.userData.status.findIndex(e=>e._id===a.payload);e.userData.status.splice(Number(o),1)}}}}),{storeUserDataInState:l,storeAllUsersDataInState:r,followUnfollowUserInState:s,handleAuthentication:i,handleDialog:n,sendMessageInState:d,receiveMessageInState:u,clearMessagesInState:c,receiveNotificationInState:m,clearNotificationsInState:h,addStatusInState:p,deleteStatusInState:g,seenMessageInState:f,changeLoadingState:y}=t.actions}},e=>{var a=a=>e(e.s=a);e.O(0,[7150,7089,7396,2282,9295,1146,3894,1800,3544,8441,1517,7358],()=>a(64510)),_N_E=e.O()}]);